import{u as g,r as l,j as a}from"./index-CaTgf-P5.js";import{a as h}from"./client-D4iGueEE.js";import{T as d}from"./TextField-CVcQVHyE.js";import{B as x}from"./Button-Pgcc59sp.js";const A=()=>{const m=g();l.useEffect(()=>{localStorage.getItem("token")||(m("/login"),window.location.reload())},[]);const[e,u]=l.useState({name:"",description:""}),[o,p]=l.useState({name:"",description:""}),c=n=>{const{name:t,value:r}=n.target;u(i=>({...i,[t]:r}))},f=async n=>{n.preventDefault();let t=!0;const r={name:"",description:""};if(e.name.trim()||(r.name="Name is required",t=!1),e.description.trim()||(r.description="Description is required",t=!1),p(r),t){const i={name:e.name,description:e.description};h("/albums/add",i).then(s=>{console.log(s)}).catch(s=>{console.error("Login error:",s)}),console.log("Form submitted:"),m("/login")}};return a.jsxs("form",{onSubmit:f,children:[a.jsx(d,{fullWidth:!0,label:"Name",variant:"outlined",name:"name",value:e.name,onChange:c,error:!!o.name,helperText:o.name,margin:"normal"}),a.jsx(d,{fullWidth:!0,label:"Description",variant:"outlined",name:"description",value:e.description,onChange:c,error:!!o.description,helperText:o.description,multiline:!0,rows:4,margin:"normal"}),a.jsx(x,{type:"submit",variant:"contained",color:"primary",children:"Add Album"})]})};export{A as default};
