import{u as E,h as j,r as d,j as i}from"./index-DScARdBu.js";import{g as D}from"./client-Qb3lmQYg.js";import{T as h}from"./TextField-DVDeXLdW.js";import{B as S}from"./Button-BPioZcYg.js";const F=()=>{const s=E(),g=j(),n=new URLSearchParams(g.search),f=n.get("album_id"),x=n.get("photo_id"),b=n.get("photo_name");let m=n.get("photo_desc");d.useEffect(()=>{localStorage.getItem("token")||(s("/login"),window.location.reload()),m=="null"&&(m=""),u(e=>({...e,name:b,description:m}))},[s]);const[t,u]=d.useState({name:"",description:""}),[r,v]=d.useState({name:"",description:""}),p=a=>{const{name:e,value:o}=a.target;u(c=>({...c,[e]:o}))},_=async a=>{a.preventDefault();let e=!0;const o={name:"",description:""};if(t.name.trim()||(o.name="Name is required",e=!1),t.description.trim()||(o.description="Description is required",e=!1),v(o),e){const c={name:t.name,description:t.description};D("/albums/"+f+"/photos/"+x+"/update",c).then(l=>{console.log(l)}).catch(l=>{console.error("Login error:",l)}),console.log("Form submitted:"),s("/login")}};return i.jsxs("form",{onSubmit:_,children:[i.jsx(h,{fullWidth:!0,label:"Name",variant:"outlined",name:"name",value:t.name,onChange:p,error:!!r.name,helperText:r.name,margin:"normal"}),i.jsx(h,{fullWidth:!0,label:"Description",variant:"outlined",name:"description",value:t.description,onChange:p,error:!!r.description,helperText:r.description,multiline:!0,rows:4,margin:"normal"}),i.jsx(S,{type:"submit",variant:"contained",color:"primary",children:"Edit Photo"})]})};export{F as default};
