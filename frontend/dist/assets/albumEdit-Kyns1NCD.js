import{u as b,h as x,r as m,j as o}from"./index-CaTgf-P5.js";import{f as v,g as D}from"./client-D4iGueEE.js";import{T as p}from"./TextField-CVcQVHyE.js";import{B as E}from"./Button-Pgcc59sp.js";const q=()=>{const l=b(),h=x(),c=new URLSearchParams(h.search).get("id");m.useEffect(()=>{localStorage.getItem("token")||(l("/login"),window.location.reload()),v("/albums/"+c).then(e=>{e.data&&d(t=>({...t,name:e.data.name,description:e.data.description}))})},[]);const[a,d]=m.useState({name:"",description:""}),[n,f]=m.useState({name:"",description:""}),u=r=>{const{name:e,value:t}=r.target;d(i=>({...i,[e]:t}))},g=async r=>{r.preventDefault();let e=!0;const t={name:"",description:""};if(a.name.trim()||(t.name="Name is required",e=!1),a.description.trim()||(t.description="Description is required",e=!1),f(t),e){const i={name:a.name,description:a.description};D("/albums/"+c+"/update",i).then(s=>{console.log(s)}).catch(s=>{console.error("Login error:",s)}),console.log("Form submitted:"),l("/login")}};return o.jsxs("form",{onSubmit:g,children:[o.jsx(p,{fullWidth:!0,label:"Name",variant:"outlined",name:"name",value:a.name,onChange:u,error:!!n.name,helperText:n.name,margin:"normal"}),o.jsx(p,{fullWidth:!0,label:"Description",variant:"outlined",name:"description",value:a.description,onChange:u,error:!!n.description,helperText:n.description,multiline:!0,rows:4,margin:"normal"}),o.jsx(E,{type:"submit",variant:"contained",color:"primary",children:"Edit Album"})]})};export{q as default};
